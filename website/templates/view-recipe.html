{% extends "base.html" %} {% block title %}Home{% endblock %}

{% block inline_style%}
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/styles/github.min.css'>
{% endblock%}

{% block content %}
<h1 align="center">{{recipe.name}}</h1>
<h4 align="center">View recipe</h4>
<br/>
<div class="container">
    <div class="row">
        <div class="col-md-5">
            <h3>Ingredients list</h3>
            <table class="table table-striped" id="ingredients-table">
                <thead>
                    <th scope="col">Amount (grams)</th>
                    <th scope="col">Ingredient</th>
                </thead>
                <tbody>
                    {% for ingredient in recipe_ingredients %}
                    <tr>
                        <td>{{toInteger(ingredient.amount)}}</td>
                        <td>{{ingredient.food_name}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <h3>Description</h3>
            <p>{{recipe.description}}</p>
        </div>
        <div class="col">
            <h3>Nutritional breakdown</h3>
            <div class="row"> <!-- 3 top macro nutrients -->
                <div class="col justify-content-center d-flex">
                    <div class="my-4 position-relative">
                        <div class="justify-content-center d-flex position-absolute w-100" style="display: flex; justify-content: center;  align-items: center;">
                            <h5 class="fw-bold" style="line-height: 4em">Calories</h5>
                            <h5 class="fw-bold" style="line-height: 4em"></h5>
                        </div>
                        <div class="container position-relative" style="display: flex; justify-content: center;">
                            {% set macro_sum = namespace(value=16) %}
                            {% for macro_mini in [[36, 'red'], [108, 'blue'], [216, 'green']]%}
                            <div class="pie position-absolute" data-pie='{"number": false, "animationSmooth": "1s ease-out", "percent": "{{(macro_mini[0] - 16) / 3.6 }}", "textPosition": "20%", "fontWeight":"bold", "size":"120", "rotation": "{{macro_sum.value}}", "colorSlice":"{{macro_mini[1]}}", "colorCircle":"#FFFFFF00", "round":"true"}'></div>
                            {% set macro_sum.value = macro_sum.value + macro_mini[0]%}
                            {% endfor%}
                        </div>
                    </div>
                </div>
                {% for macro in ['Fibre', 'Protein']%}
                <div class="col justify-content-center d-flex">
                    <div class="my-4 position-relative">
                        <div class="justify-content-center d-flex position-absolute w-100" style="display: flex; justify-content: center;">
                            <h5 class="fw-bold" style="line-height: 4em">{{macro}}</h5>
                        </div>
                        <div class="pie" data-pie='{ "percent": 66, "textPosition": "20%", "fontWeight":"bold", "size":"120", "rotation": "0", "inverse": "true", "colorSlice":"#ffcf00", "round":"true", "strokeBottom": 5, "colorCircle":"#f8f9fa" }'></div>
                    </div>
                </div>
                {% endfor %}

                <!-- <div class="col">
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                </div> -->
            </div>

            <div class="row small">
                <div class="col">
                    <div class="p-2 my-2 bg-light">
                        <h5>Carbohydrates</h5>

                    <div class="row">
                        <div class="col-6">
                            Carbohydrates
                        </div>
                        <div class="col-2">
                            50 g
                        </div>
                        <div class="col">
                            <div class="progress position-relative" style="height: 20px;">
                                <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                <small class="justify-content-center d-flex position-absolute w-100">20%</small>
                            </div>
                        </div>
                    </div>
                    {% for carb in ['Fibre', 'Sugar']%}
                    <div class="row">
                        <div class="col-1">
                        </div>
                        <div class="col-5">
                            {{carb}}
                        </div>
                        <div class="col-2">
                            12 g
                        </div>
                        <div class="col">
                            <div class="progress position-relative" style="height: 20px;">
                                <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                <small class="justify-content-center d-flex position-absolute w-100">20%</small>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>

                <div class="p-2 my-2 bg-light">
                    <h5>Lipids</h5>
                    <div class="row">
                        <div class="col-6">
                            Total fat
                        </div>
                        <div class="col-2">
                            15 g
                        </div>
                        <div class="col">
                            <div class="progress position-relative" style="height: 20px;">
                                <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                <small class="justify-content-center d-flex position-absolute w-100">20%</small>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-1">
                        </div>
                        <div class="col-5">
                            Mono
                        </div>
                        <div class="col-2">
                            12 g
                        </div>
                        <div class="col">
                            <div class="progress position-relative" style="height: 20px;">
                                <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                <small class="justify-content-center d-flex position-absolute w-100">20%</small>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-1">
                        </div>
                        <div class="col-5">
                            Poly
                        </div>
                        <div class="col-2">
                            12 g
                        </div>
                        <div class="col">
                            <div class="progress position-relative" style="height: 20px;">
                                <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                <small class="justify-content-center d-flex position-absolute w-100">20%</small>
                            </div>
                        </div>
                    </div>
                    {% for poly_fats in ['Omega-3','Omega-6']%}
                    <div class="row">
                        <div class="col-2">
                        </div>
                        <div class="col-4">
                            {{poly_fats}}
                        </div>
                        <div class="col-2">
                            2 g
                        </div>
                        <div class="col">
                            <div class="progress position-relative" style="height: 20px;">
                                <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                <small class="justify-content-center d-flex position-absolute w-100">20%</small>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    <div class="row">
                        <div class="col-1"></div>
                        <div class="col-5">
                            Saturated
                        </div>
                        <div class="col-2">
                            4 g
                        </div>
                        <div class="col-4">
                            <div class="progress position-relative" style="height: 20px;">
                                <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                <small class="justify-content-center d-flex position-absolute w-100">20%</small>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-1"></div>
                        <div class="col-5">
                            Cholesterol
                        </div>
                        <div class="col-2">
                            4 g
                        </div>
                        <div class="col-4">
                            <div class="progress position-relative" style="height: 20px;">
                                <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                <small class="justify-content-center d-flex position-absolute w-100">20%</small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="p-2 my-2 bg-light">
                    <h5>Protein</h5>
                    <div class="row">
                        <div class="col-6">
                            Protein
                        </div>
                        <div class="col-2">
                            X g
                        </div>
                        <div class="col">
                            <div class="progress position-relative" style="height: 20px;">
                                <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                <small class="justify-content-center d-flex position-absolute w-100">20%</small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="p-2 my-2 bg-light">
                    <h5>Essential amino acids</h5>
                    {% for amino in ['Phenylalanine', 'Valine', 'Threonine', 'Tryptophan', 'Methionine', 'Leucine', 
                                    'Isoleucine', 'Lysine', 'Histidine']%}
                    <div class="row">
                        <div class="col-6">
                            {{amino}}
                        </div>
                        <div class="col-2">
                            X g
                        </div>
                        <div class="col">
                            <div class="progress position-relative" style="height: 20px;">
                                <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                <small class="justify-content-center d-flex position-absolute w-100">20%</small>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>

                <div class="p-2 my-2 bg-light">
                    <h5>Phytochemicals</h5>
                    {% for phytochemical in ['Lypocene', 'Lutein and zeaxanthin', 'Quarcetin', 'Flavonoids', 'Resveratrol', 'Myricetin']%}
                    <div class="row">
                        <div class="col-6">
                            {{phytochemical}}
                        </div>
                        <div class="col-2">
                            X g
                        </div>
                        <div class="col">
                            <div class="progress position-relative" style="height: 20px;">
                                <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                <small class="justify-content-center d-flex position-absolute w-100">20%</small>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>

            </div>
                <div class="col">
                    <div class="p-2 my-2 bg-light">
                        <h5>Vitamins</h5>
                        {% for b_vitamin in ['B1', 'B2', 'B3', 'B5', 'B6', 'B12', 'Choline', 'Folate', 'Pantothenate', 
                                            'Vitamin A', 'Vitamin C', 'Vitamin D', 'Vitamin E', 'Vitamin K']%}
                        <div class="row">
                            <div class="col-6">
                                {{b_vitamin}}
                            </div>
                            <div class="col-2">
                                X g
                            </div>
                            <div class="col">
                                <div class="progress position-relative" style="height: 20px;">
                                    <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                    <small class="justify-content-center d-flex position-absolute w-100">20%</small>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>

                    <div class="p-2 my-2 bg-light">
                        <h5>Minerals</h5>
                        {% for mineral in ['Calcium', 'Chloride', 'Chromium', 'Copper', 'Fluoride', 'Iodine', 'Iron', 'Magnesium', 
                                            'Manganese', 'Molybdenum', 'Phosphorus', 'Potassium', 'Selenium', 'Sodium', 'Zinc' ]%}
                        <div class="row">
                            <div class="col-6">
                                {{mineral}}
                            </div>
                            <div class="col-2">
                                X g
                            </div>
                            <div class="col">
                                <div class="progress position-relative" style="height: 20px;">
                                    <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                    <small class="justify-content-center d-flex position-absolute w-100">20%</small>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="flex progress-wrapper">
    <div class="progress">progress</div>
    <input type="range" value="75" min="0" max="100" step="1">
  </div>
  <div class="flex container">
{% endblock %}

{% block scripts %}
<script src='https://cdn.jsdelivr.net/gh/tomik23/circular-progress-bar@latest/docs/circularProgressBar.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js'></script>
<script src="{{ url_for('static', filename='circle-progress-bar.js')}}"></script>
{% endblock %}